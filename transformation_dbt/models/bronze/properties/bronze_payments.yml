version: 2

models:
  - name: bronze_payments
    columns:
      - name: payment_id
        data_type: varchar
        data_tests:
          - unique:
              severity: warn
          - not_null:
              severity: warn

      - name: loan_id
        data_type: varchar
        data_tests:
          - not_null:
              severity: warn
          - relationships:
              arguments:
                to: ref('bronze_loans')
                field: loan_id
              severity: warn

      - name: status
        data_type: varchar
        data_tests:
          - accepted_values:
              values: ['success', 'failed', 'missed', 'unknown', 'pending']
              severity: warn